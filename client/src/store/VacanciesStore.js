// src/store/VacancyStore.js
import { makeAutoObservable } from "mobx";

export default class VacancyStore {
  constructor() {
   this._vacancies = [
    {
      id: 1,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 2,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 3,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 4,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },  {
      id: 5,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 6,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 7,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 8,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },
     {
      id: 9,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 10,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 11,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 12,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },
     {
      id: 13,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 14,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 15,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 16,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },
     {
      id: 17,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 18,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 19,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 20,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },
     {
      id: 21,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 22,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 23,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 24,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    },
     {
      id: 25,
      title: "Frontend-разработчик (React)",
      description: "Разработка интерфейсов на React в команде профессионалов.",
      fullDescription: `Мы ищем Frontend-разработчика, который станет частью нашей дружной команды. У нас уютный коллектив, гибкий график, возможность работать удалённо и участвовать в интересных проектах. Предусмотрены курсы повышения квалификации и наставничество.`,
      salaryFrom: 2500,
      salaryTo: 4000
    },
    {
      id: 26,
      title: "Backend-разработчик (Node.js)",
      description: "Создание и поддержка API на Node.js.",
      fullDescription: `Присоединяйся к команде профессионалов! Мы предлагаем комфортные условия труда, офис в центре города, корпоративное обучение и карьерный рост. В нашей компании приветствуется инициатива и стремление к развитию.`,
      salaryFrom: 3000,
      salaryTo: 5000
    },
    {
      id: 27,
      title: "UI/UX дизайнер",
      description: "Проектирование интерфейсов и пользовательского опыта.",
      fullDescription: `Ищем креативного дизайнера, который любит делать удобные и красивые интерфейсы. У нас: современные подходы к дизайну, поддержка от команды и менеджеров, обучение, возможность участия в международных проектах и, конечно, уютный коллектив!`,
      salaryFrom: 2000,
      salaryTo: 3500
    },
    {
      id: 28,
      title: "Менеджер по продажам",
      description: "Работа с клиентами, ведение переговоров, заключение сделок.",
      fullDescription: `Если ты умеешь убеждать и хочешь хорошо зарабатывать — тебе к нам! Комфортное рабочее место, стабильная зарплата + бонусы, корпоративные мероприятия, обучение и наставничество. Наш коллектив — это команда единомышленников, где ценят каждого.`,
      salaryFrom: 1500,
      salaryTo: 3000
    }
  ];


    makeAutoObservable(this);
  }

  // Сеттер для замены всего массива
  setVacancies(vacancies) {
    this._vacancies = vacancies;
  }

  // Геттер возвращает приватное поле без рекурсии
  get vacancies() {
    return this._vacancies;
  }

  // action: добавить вакансию
  addVacancy(vacancy) {
    const newId =
      this._vacancies.length > 0
        ? Math.max(...this._vacancies.map((v) => v.id)) + 1
        : 1;
    this._vacancies.push({ id: newId, ...vacancy });
  }

  // action: обновить вакансию по id
  updateVacancy(id, updatedFields) {
    const idx = this._vacancies.findIndex((v) => v.id === id);
    if (idx !== -1) {
      this._vacancies[idx] = { ...this._vacancies[idx], ...updatedFields };
    }
  }

  // action: удалить вакансию
  removeVacancy(id) {
    this._vacancies = this._vacancies.filter((v) => v.id !== id);
  }

  // computed: получить вакансию по id
  getVacancyById(id) {
    return this._vacancies.find((v) => v.id === id);
  }
}
